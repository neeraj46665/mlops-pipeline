schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: data/iris.csv
      hash: md5
      md5: 21d441a28bce4417276097df955afc50
      size: 2928
    - path: src/prepare.py
      hash: md5
      md5: 953d171fe99b6dfe39768026302e2b21
      size: 772
    params:
      params.yaml:
        prepare.data_path: data/iris.csv
        prepare.output_path: data/processed/iris_processed.csv
    outs:
    - path: data/processed/iris_processed.csv
      hash: md5
      md5: 81b864fc2dc82d29a62f43a010105d8b
      size: 2928
  featureize:
    cmd: python src/featureize.py
    deps:
    - path: data/processed/iris_processed.csv
      hash: md5
      md5: 81b864fc2dc82d29a62f43a010105d8b
      size: 2928
    - path: src/featureize.py
      hash: md5
      md5: a3d84beebd90182f1ed40866d220f066
      size: 1220
    params:
      params.yaml:
        featureize.input_path: data/processed/iris_processed.csv
        featureize.output_path: data/featureized/iris_featureized.csv
    outs:
    - path: data/featureized/iris_featureized.csv
      hash: md5
      md5: f464cae0925c551e714a5ebd0cf3c280
      size: 12249
  train:
    cmd: python src/train.py
    deps:
    - path: data/featureized/iris_featureized.csv
      hash: md5
      md5: f464cae0925c551e714a5ebd0cf3c280
      size: 12249
    - path: src/train.py
      hash: md5
      md5: ddacd5b0afb6cf48914e1f8538ba50f9
      size: 3258
    params:
      params.yaml:
        train.input_path: data/featureized/iris_featureized.csv
        train.max_depth: 5
        train.model_output: models/iris_model.pkl
        train.n_estimators: 100
        train.random_state: 42
        train.test_size: 0.1
    outs:
    - path: models/iris_model.pkl
      hash: md5
      md5: 370f0590bf2a39a4b6b27c3c0e7389a5
      size: 2497
    - path: run_id.yaml
      hash: md5
      md5: c70d0ef9eadd6c7636f9070f18a9e771
      size: 42
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/featureized/iris_featureized.csv
      hash: md5
      md5: f464cae0925c551e714a5ebd0cf3c280
      size: 12249
    - path: models/iris_model.pkl
      hash: md5
      md5: 370f0590bf2a39a4b6b27c3c0e7389a5
      size: 2497
    - path: src/evaluate.py
      hash: md5
      md5: cf3695cf2ad0e70b81619890fe531ed1
      size: 791
    params:
      params.yaml:
        evaluate.model_path: models/iris_model.pkl
        evaluate.test_data_path: data/featureized/iris_featureized.csv
  register:
    cmd: python src/register_model.py
    deps:
    - path: models/iris_model.pkl
      hash: md5
      md5: 370f0590bf2a39a4b6b27c3c0e7389a5
      size: 2497
    - path: run_id.yaml
      hash: md5
<<<<<<< HEAD
      md5: c70d0ef9eadd6c7636f9070f18a9e771
      size: 42
=======
      md5: 5753865ad500cc39bed0d1ad55774dde
      size: 41
>>>>>>> 82fd8e74d0e8070fe00f2ab174b88b06d1328db6
    - path: src/register_model.py
      hash: md5
      md5: f4fa8e7606a42b996d2f1c1dac8ec63d
      size: 1033
    params:
      params.yaml:
        register.model_name: iris_classification_model
        register.production_stage: production
        register.staging_stage: staging
